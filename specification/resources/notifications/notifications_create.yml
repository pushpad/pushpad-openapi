operationId: notifications_create

summary: Send a New Notification

description: |
  To send a web push notification,
  send a POST request to `/projects/PROJECT_ID/notifications`.

tags:
  - Notifications

parameters:
  - $ref: 'parameters.yml#/project_id'

requestBody:
  content:
    application/json:
      schema:
        allOf:
          - $ref: 'models/notification.yml'
        required:
          - body

responses:
  '201':
    description: Notification was accepted for delivery.
    content:
      application/json:
        schema:
          type: object
          properties:
            id:
              type: integer
              example: 123456789
              description: |
                The notification id.
            scheduled:
              type: integer
              example: 9876
              description: |
                The number of devices the notification will be delivered to.
                Note that this value may differ from the number of user IDs (uids) in the request,
                for example when some users are not subscribed or are subscribed with multiple devices.
                This field is not available for scheduled notifications.
            uids:
              type: array
              items:
                type: string
              example: ["uid0", "uid1", "uidN"]
              description: |
                This field is included in the response only if you specify some user IDs (uids) in the request,
                and it indicates which of those users are subscribed to notifications.
                This field is not available for scheduled notifications.
            send_at:
              type: string
              format: date-time
              example: "2016-07-06T10:09:00.000Z"
              description: |
                The time when the notification will be sent.
                Available only for scheduled notifications.

  '401':
    $ref: '../../shared/responses/unauthorized.yml'

  '402':
    $ref: '../../shared/responses/payment_required.yml'

  '403':
    $ref: '../../shared/responses/forbidden.yml'

  '422':
    $ref: '../../shared/responses/unprocessable_content.yml'

  '429':
    $ref: '../../shared/responses/too_many_requests.yml'

  '500':
    $ref: '../../shared/responses/server_error.yml'

  default:
    $ref: '../../shared/responses/unexpected_error.yml'
