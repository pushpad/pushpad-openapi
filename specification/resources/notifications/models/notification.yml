type: object

properties:
  id:
    type: integer
    readOnly: true
    example: 123456789
    description: |
      A unique identifier for each notification.
      This is automatically generated upon notification creation.

  project_id:
    type: integer
    readOnly: true
    example: 123
    description: |
      The ID of the project the notification belongs to.

  title:
    type: string
    example: Foo Bar
    description: |
      The title of the push notification.

  body:
    type: string
    example: "Lorem ipsum dolor sit amet, consectetur adipiscing elit."
    description: |
      The main text of the push notification.

  target_url:
    type: string
    format: uri
    example: "https://example.com"
    description: |
      The url the user is redirected to when clicks the push notification.

  icon_url:
    type: string
    format: uri
    example: "https://example.com/assets/icon.png"
    description: |
      The url of an image that will be used as the notification icon.
      Suggested size: 192x192px.

  badge_url:
    type: string
    format: uri
    example: "https://example.com/assets/badge.png"
    description: |
      The url of a small image (that represents the app or the notification category)
      that will be displayed when there is not enough space to display the full notification (e.g. Android status bar).
      Suggested size: 96x96px.

  image_url:
    type: string
    format: uri
    example: "https://example.com/assets/image.png"
    description: |
      The url of an image that will be displayed in the notification content.
      Suggested size: 800px for the longer side.

  ttl:
    type: integer
    example: 604800
    description: |
      The number of seconds after which the notification should be dropped
      if the device of the user is offline.

  require_interaction:
    type: boolean
    example: false
    description: |
      Set to true in order to prevent browser from automatically closing the notification after a few seconds.
      Currently this applies only to Chrome on desktop.

  silent:
    type: boolean
    example: false
    description: |
      Set to true if you want to disable the notification sound and vibration.

  urgent:
    type: boolean
    example: false
    description: |
      Set to true for time-sensitive alerts (e.g. incoming phone call)
      that must wake up devices that are sleeping.

  custom_data:
    type: string
    example: ""
    description: |
      An arbitrary string that represents some metadata that you want to attach to the notification.
      This string is passed as an argument to the JavaScript functions binded to the action buttons.

  actions:
    type: array
    items:
      type: object
      properties:
        title:
          type: string
          example: A button
          description: |
            The label to display on the action button.
        target_url:
          type: string
          format: uri
          example: "https://example.com/button-link"
          description: |
            The page that opens up when the user clicks the button.
        icon:
          type: string
          format: uri
          example: "https://example.com/assets/button-icon.png"
          description: |
            The URL of a small icon for the action button.
        action:
          type: string
          example: myActionName
          description: |
            An ID for the action that can be used to trigger a JavaScript callback.
            It must be a string of word characters.
    example:
      - title: A button
        target_url: "https://example.com/button-link"
        icon: "https://example.com/assets/button-icon.png"
        action: myActionName
    description: |
      Add some action buttons to the notification.

  starred:
    type: boolean
    example: false
    description: |
      Bookmark the notification to make it easier to find it from the Pushpad dashboard.
      You can use this feature to highlight some notifications, for example those that have been sent manually.

  send_at:
    type: string
    format: date-time
    example: "2016-07-06T10:09:00.000Z"
    description: |
      A time when the notification will be sent.

  custom_metrics:
    type: array
    items:
      type: string
    example: ["metric1", "metric2"]
    description: |
      Aggregate the stats for this notification into the specified buckets (you can add up to 3 buckets for a single notification).
      Custom metrics are a way to aggregate the stats for all the notifications that belong to a given category.
      You need to explicitly create the categories from the project settings before using this feature.
      You can learn more in the Monitoring section of the documentation.

  uids:
    type: array
    items:
      type: string
    example: ["uid0", "uid1", "uidN"]
    description: |
      The users that should receive this push notification.
      When the field is omitted or null, it is ignored and the push notification is sent to everyone or to the people specified by tags.
      When the field is an empty array, the notification will not be sent to anyone.

  tags:
    type: array
    items:
      type: string
    example: ["tag1", 'tagA && !tagB']
    description: |
      The segments that should receive this push notification (i.e. the browsers that have at least one of these tags associated will receive the notification).
      If both uids and tags are present, only the browsers that match both the conditions will receive the notification (i.e. a browser must be associated to a user ID listed in uids and have at least one of those tags).
      Instead of simple tags, you can pass boolean expressions that use the operators !, &&, || (from highest to lowest precedence) and can include parentheses.
      If you pass an array of tags and boolean expressions they are interpreted as ||: the example above is equivalent to "tag0 || tag1 || tagA && !tagB".
      When the field is omitted or null, it is ignored and the push notification is sent to everyone or to the people specified by uids.
      When the field is an empty array, the notification will not be sent to anyone.

  created_at:
    type: string
    format: date-time
    readOnly: true
    example: "2016-07-06T10:58:39.192Z"
    description: |
      A time value given in ISO 8601 format.
      It represents when the notification was created.

  successfully_sent_count:
    type: integer
    readOnly: true
    example: 4
    description: |
      The number of notifications that were sent successfully by Pushpad.

  opened_count:
    type: integer
    readOnly: true
    example: 1
    description: |
      The number of notifications that were clicked or opened.

  scheduled_count:
    type: integer
    readOnly: true
    example: 400
    description: |
      The number of deliveries that are still in the sending queue.

  scheduled:
    type: boolean
    readOnly: true
    description: |
      The deliveries have not started yet.
      You can try to cancel a notification that is in this status.

  cancelled:
    type: boolean
    readOnly: true
    description: |
      The notification has been cancelled.
      A notification can be cancelled on purpose or it can be cancelled by the system (for example if you exceed the usage quota).
